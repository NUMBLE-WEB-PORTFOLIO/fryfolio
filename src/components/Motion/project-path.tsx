"use client";

import { motion, useScroll, useTransform } from "framer-motion";

const ProjectPath = () => {
  const { scrollYProgress } = useScroll();
  const transformedYProgress = useTransform(
    scrollYProgress,
    [0, 0.1, 0.9, 1],
    [0, 0, 0.8, 1]
  );

  return (
    <div className="absolute left-1/2 top-0 -translate-x-1/2 w-full">
      <motion.svg
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="relative max-w-[113rem] h-[206rem] w-full overflow-hidden m-auto"
      >
        <motion.path
          d="M555.239 0C555.239 0 554.183 35.2127 550.573 52.359C547.314 67.8424 540.578 83.1354 529.06 93.8315C517.731 104.351 487.458 121.437 487.458 121.437C487.458 121.437 461.138 128.479 447.929 130.638C426.857 134.083 405.894 137.748 384.813 141.136C348.813 146.922 313.478 155.952 277.503 161.872C264.519 164.009 250.08 164.424 237.456 168.482C203.961 179.248 171.972 188.336 141.81 207.103C107.077 228.715 84.0079 262.697 84.0079 303.268C84.0079 342.599 130.329 364.928 162.806 377.918C206.573 395.425 253.099 402.306 299.794 406.042C375.383 412.089 453.531 414.412 529.06 405.394C570.588 400.435 612.196 399.726 653.866 396.581C683.834 394.319 702.413 388.518 731.212 378.918C737.832 376.712 749.911 365.682 736.236 359.924C722.363 354.082 718.725 354.424 703.736 354.424C686.913 354.424 678.694 365.028 674.732 384.398C670.551 404.839 673.85 419.791 690.543 432.092C708.471 445.302 732.647 453.363 753.918 459.567C805.194 474.522 857.09 485.972 907.626 504.021C974.68 527.968 1072.79 545.013 1101.12 620.014C1113.9 653.833 1108.79 689.549 1089.59 719.548C1061.64 763.207 1023.24 791.167 982.147 821.156C948.208 845.922 908.305 855.073 868.227 865.35C813.139 879.475 756.457 891.478 699.745 896.843C572.986 908.834 444.888 896.885 317.809 907.989C269.503 912.209 222.324 920.196 175.247 931.965C143.597 939.877 112.211 954.337 88.6735 977.455C58.1247 1007.46 20.802 1037.51 10.6534 1080.88C4.20093 1108.45 -0.923915 1135.61 3.52528 1164.08C7.25843 1187.97 9.20435 1197.55 21.2361 1222.92C26.3563 1233.72 36.057 1248.93 43.313 1258.43C52.4324 1270.37 63.2946 1275.73 72.8621 1283.06C93.6591 1298.99 125.474 1307.61 149.327 1318.05C185.843 1334.02 226.882 1340.01 266.098 1344.75C356.309 1355.63 454.726 1350.59 544.093 1336.71C585.702 1330.25 629.617 1327.38 671.751 1327.38C694.542 1327.38 711.031 1333.64 732.664 1339.04C768.184 1347.92 792 1373 815.997 1397.88C829.779 1412.17 852.545 1445.06 852.545 1445.06C852.545 1445.06 866.227 1480.89 871.337 1494.18C882.656 1523.6 896.396 1568.55 882.872 1599.28C868.456 1632.05 849.895 1665.73 818.33 1684.82C783.653 1705.79 742.676 1717.43 704.54 1730.96C677.545 1740.54 650.389 1748.01 622.891 1755.32C585.924 1765.15 550.512 1781.62 513.507 1791.87C445.036 1810.83 374.558 1821.27 305.627 1838.27C282 1844.09 249.409 1851.77 233.309 1871.45C220.136 1887.55 211.399 1908.14 227.477 1925.62C243.824 1943.39 278.387 1950.97 290.204 1924.71C301.115 1900.47 276.044 1898.37 259.488 1898.92C239.95 1899.57 211.079 1923.18 200.649 1939.1C168.753 1987.78 235.049 2023.16 265.968 2047.06C274.502 2053.65 282.979 2060.83 290.593 2068.44C300.355 2078.2 305.254 2091.89 314.958 2101.88C321.335 2108.44 324.289 2113.54 324.289 2113.54"
          stroke="black"
          strokeWidth="1"
          strokeLinecap="round"
          strokeDasharray="500"
          initial={{ pathLength: 0 }}
          style={{ pathLength: transformedYProgress }}
          animate={{
            x: ["10px", "0px", "5px", "0px", "10px"],
            y: ["0px", "-10px", "5px", "10px", "0px"],
          }}
          transition={{
            duration: 9,
            ease: "easeInOut",
            repeat: Infinity,
          }}
        ></motion.path>
      </motion.svg>
    </div>
  );
};

export default ProjectPath;
